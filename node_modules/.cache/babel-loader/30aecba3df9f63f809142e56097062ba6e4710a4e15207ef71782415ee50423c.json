{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst is_1 = require(\"@sindresorhus/is\");\nconst normalizeArguments = (options, defaults) => {\n  if (is_1.default.null_(options.encoding)) {\n    throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n  }\n  is_1.assert.any([is_1.default.string, is_1.default.undefined], options.encoding);\n  is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.resolveBodyOnly);\n  is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.methodRewriting);\n  is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.isStream);\n  is_1.assert.any([is_1.default.string, is_1.default.undefined], options.responseType);\n  // `options.responseType`\n  if (options.responseType === undefined) {\n    options.responseType = 'text';\n  }\n  // `options.retry`\n  const {\n    retry\n  } = options;\n  if (defaults) {\n    options.retry = {\n      ...defaults.retry\n    };\n  } else {\n    options.retry = {\n      calculateDelay: retryObject => retryObject.computedValue,\n      limit: 0,\n      methods: [],\n      statusCodes: [],\n      errorCodes: [],\n      maxRetryAfter: undefined\n    };\n  }\n  if (is_1.default.object(retry)) {\n    options.retry = {\n      ...options.retry,\n      ...retry\n    };\n    options.retry.methods = [...new Set(options.retry.methods.map(method => method.toUpperCase()))];\n    options.retry.statusCodes = [...new Set(options.retry.statusCodes)];\n    options.retry.errorCodes = [...new Set(options.retry.errorCodes)];\n  } else if (is_1.default.number(retry)) {\n    options.retry.limit = retry;\n  }\n  if (is_1.default.undefined(options.retry.maxRetryAfter)) {\n    options.retry.maxRetryAfter = Math.min(\n    // TypeScript is not smart enough to handle `.filter(x => is.number(x))`.\n    // eslint-disable-next-line unicorn/no-fn-reference-in-iterator\n    ...[options.timeout.request, options.timeout.connect].filter(is_1.default.number));\n  }\n  // `options.pagination`\n  if (is_1.default.object(options.pagination)) {\n    if (defaults) {\n      options.pagination = {\n        ...defaults.pagination,\n        ...options.pagination\n      };\n    }\n    const {\n      pagination\n    } = options;\n    if (!is_1.default.function_(pagination.transform)) {\n      throw new Error('`options.pagination.transform` must be implemented');\n    }\n    if (!is_1.default.function_(pagination.shouldContinue)) {\n      throw new Error('`options.pagination.shouldContinue` must be implemented');\n    }\n    if (!is_1.default.function_(pagination.filter)) {\n      throw new TypeError('`options.pagination.filter` must be implemented');\n    }\n    if (!is_1.default.function_(pagination.paginate)) {\n      throw new Error('`options.pagination.paginate` must be implemented');\n    }\n  }\n  // JSON mode\n  if (options.responseType === 'json' && options.headers.accept === undefined) {\n    options.headers.accept = 'application/json';\n  }\n  return options;\n};\nexports.default = normalizeArguments;","map":{"version":3,"names":["Object","defineProperty","exports","value","is_1","require","normalizeArguments","options","defaults","default","null_","encoding","TypeError","assert","any","string","undefined","boolean","resolveBodyOnly","methodRewriting","isStream","responseType","retry","calculateDelay","retryObject","computedValue","limit","methods","statusCodes","errorCodes","maxRetryAfter","object","Set","map","method","toUpperCase","number","Math","min","timeout","request","connect","filter","pagination","function_","transform","Error","shouldContinue","paginate","headers","accept"],"sources":["/home/spartan/Documents/vue.js/demo/node_modules/got/dist/source/as-promise/normalize-arguments.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_1 = require(\"@sindresorhus/is\");\nconst normalizeArguments = (options, defaults) => {\n    if (is_1.default.null_(options.encoding)) {\n        throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n    }\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.encoding);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.resolveBodyOnly);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.methodRewriting);\n    is_1.assert.any([is_1.default.boolean, is_1.default.undefined], options.isStream);\n    is_1.assert.any([is_1.default.string, is_1.default.undefined], options.responseType);\n    // `options.responseType`\n    if (options.responseType === undefined) {\n        options.responseType = 'text';\n    }\n    // `options.retry`\n    const { retry } = options;\n    if (defaults) {\n        options.retry = { ...defaults.retry };\n    }\n    else {\n        options.retry = {\n            calculateDelay: retryObject => retryObject.computedValue,\n            limit: 0,\n            methods: [],\n            statusCodes: [],\n            errorCodes: [],\n            maxRetryAfter: undefined\n        };\n    }\n    if (is_1.default.object(retry)) {\n        options.retry = {\n            ...options.retry,\n            ...retry\n        };\n        options.retry.methods = [...new Set(options.retry.methods.map(method => method.toUpperCase()))];\n        options.retry.statusCodes = [...new Set(options.retry.statusCodes)];\n        options.retry.errorCodes = [...new Set(options.retry.errorCodes)];\n    }\n    else if (is_1.default.number(retry)) {\n        options.retry.limit = retry;\n    }\n    if (is_1.default.undefined(options.retry.maxRetryAfter)) {\n        options.retry.maxRetryAfter = Math.min(\n        // TypeScript is not smart enough to handle `.filter(x => is.number(x))`.\n        // eslint-disable-next-line unicorn/no-fn-reference-in-iterator\n        ...[options.timeout.request, options.timeout.connect].filter(is_1.default.number));\n    }\n    // `options.pagination`\n    if (is_1.default.object(options.pagination)) {\n        if (defaults) {\n            options.pagination = {\n                ...defaults.pagination,\n                ...options.pagination\n            };\n        }\n        const { pagination } = options;\n        if (!is_1.default.function_(pagination.transform)) {\n            throw new Error('`options.pagination.transform` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.shouldContinue)) {\n            throw new Error('`options.pagination.shouldContinue` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.filter)) {\n            throw new TypeError('`options.pagination.filter` must be implemented');\n        }\n        if (!is_1.default.function_(pagination.paginate)) {\n            throw new Error('`options.pagination.paginate` must be implemented');\n        }\n    }\n    // JSON mode\n    if (options.responseType === 'json' && options.headers.accept === undefined) {\n        options.headers.accept = 'application/json';\n    }\n    return options;\n};\nexports.default = normalizeArguments;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}